{"mappings":"oeAAAA,EAAA,SCAA,IAAAC,EAAAD,EAAA,S,oDAMA,MAAME,mBAACC,EAAkBC,UAAEC,EAASC,QAAEC,EAAOC,cAAEC,GAAiBC,EAAAC,KAEhER,EAAmBS,iBAAiB,UAEpC,SAA6BC,GAC3BA,EAAEC,iBACFL,EAAcM,UAAY,GAC1BV,EAAU,GAAGU,UAAY,GACzB,MAAMC,EAAUH,EAAEI,cAAcC,YAAYC,MAAMC,OAClD,IAAKJ,EAEH,YADAf,EAAAoB,OAAOC,QAAQ,2BAOnBC,eAAiCP,EAASQ,GACxC,IACEjB,EAAQkB,QAAS,EACjB,MACEC,MAAQC,QAASC,EAAUC,cAAEA,UACrB,EAAAC,EAAAC,aAAYf,EAASQ,GAC/B,IAAKI,EAAWI,OAGd,OAFAvB,EAAcM,UAAY,QAC1Bd,EAAAoB,OAAOC,QAAQ,mBAIdO,EAAgB,IACjB,EAAAI,EAAAC,YAAWL,EAAeD,EAAYE,EAAAC,YAAaf,GAEnDP,EAAcM,UAAY,GAG5B,MAAMoB,GAAQ,EAAAC,EAAAC,sBAAqBT,GACnCvB,EAAU,GAAGU,UAAYoB,EACzB5B,EAAQkB,QAAS,C,CACjB,MAAOa,GACPrC,EAAAoB,OAAOC,QAAQgB,EAAMC,Q,CACtB,QACChC,EAAQkB,QAAS,C,EA3BnBe,CAAkBxB,E","sources":["src/index.js","src/js/search-films.js"],"sourcesContent":["import './js/main-initial-films';\nimport './js/search-films';\nimport './js/modal-film';\nimport './js/modal-team';\nimport './js/theme-switcher';\nimport './js/firebase';\nimport './js/auth';\nimport './js/button-up';\nimport './js/pagination'\n","import { Notify } from 'notiflix';\nimport { searchFilms } from './api';\nimport { createFilmItemMarkup } from './main-initial-films';\nimport { pagination } from './pagination';\nimport {refs} from './refs'\n\nconst {formSearchFilmsRef, filmsList, spinner, paginationRef} = refs;\n\nformSearchFilmsRef.addEventListener('submit', onSubmitFetchMovies);\n\nfunction onSubmitFetchMovies(e) {\n  e.preventDefault();\n  paginationRef.innerHTML = '';\n  filmsList[0].innerHTML = '';\n  const keyword = e.currentTarget.searchQuery.value.trim();\n  if (!keyword) {\n    Notify.failure('Please enter something');\n    return;\n  }\n\n  fetchFilmsByQuery(keyword);\n}\n\nasync function fetchFilmsByQuery(keyword, currentPage) {\n  try {\n    spinner.hidden = false;\n    const {\n      data: { results: filmsArray, total_results },\n    } = await searchFilms(keyword, currentPage);\n    if (!filmsArray.length) {\n      paginationRef.innerHTML = \"\"\n      Notify.failure('Films not found');\n      return;\n    }\n\n    if(total_results > 20) {\n      pagination(total_results, filmsArray, searchFilms, keyword);\n    } else {\n      paginationRef.innerHTML = \"\"\n    }\n\n    const items = createFilmItemMarkup(filmsArray);\n    filmsList[0].innerHTML = items;\n    spinner.hidden = true;\n  } catch (error) {\n    Notify.failure(error.message);\n  } finally {\n    spinner.hidden = true;\n  }\n}\n"],"names":["parcelRequire","$eWCmQ","formSearchFilmsRef","$54bb0b2193848dde$var$formSearchFilmsRef","filmsList","$54bb0b2193848dde$var$filmsList","spinner","$54bb0b2193848dde$var$spinner","paginationRef","$54bb0b2193848dde$var$paginationRef","$krGWQ","refs","addEventListener","e","preventDefault","innerHTML","keyword","currentTarget","searchQuery","value","trim","Notify","failure","async","currentPage","hidden","data","results","filmsArray","total_results","$7rYDH","searchFilms","length","$2nhTy","pagination","items","$dxtdZ","createFilmItemMarkup","error","message","$54bb0b2193848dde$var$fetchFilmsByQuery"],"version":3,"file":"index.a551c80c.js.map"}